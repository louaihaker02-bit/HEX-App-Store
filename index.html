<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HEX App Store</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
body { background: #111; color: #fff; }
.navbar, .footer { background: #222; }
.card { background: #1a1a1a; color: #fff; }
.app-image { width: 100%; height: 150px; object-fit: cover; }
.download-btn { background-color: #28a745; color: #fff; }
.section-box { background: #222; padding: 20px; margin: 5px; border-radius: 10px; text-align: center; cursor: pointer; }
.section-box:hover { background: #444; }
#appsContainer { margin-top: 20px; }
#adminPanel { display: none; background: #333; padding: 20px; border-radius: 10px; margin-top: 20px; }
</style>
</head>
<body>

<nav class="navbar navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">HEX App Store</a>
    <div class="d-flex">
      <input id="searchInput" type="text" placeholder="بحث عن التطبيقات" class="form-control me-2">
      <button onclick="searchApp()" class="btn btn-outline-light">بحث</button>
    </div>
  </div>
</nav>

<div class="container mt-3">
<!-- الأقسام العليا -->
<div class="d-flex flex-wrap justify-content-start mb-3">
  <div class="section-box" onclick="filterCategory('Android')">أندرويد</div>
  <div class="section-box" onclick="filterCategory('Windows')">ويندوز</div>
  <div class="section-box" onclick="filterCategory('الحماية')">الحماية</div>
  <div class="section-box" onclick="filterCategory('التصوير الفوتوغرافي')">التصوير</div>
  <div class="section-box" onclick="filterCategory('الصوت والفيديو')">الصوت والفيديو</div>
  <div class="section-box" onclick="filterCategory('إنتاجية')">إنتاجية</div>
  <div class="section-box" onclick="filterCategory('المحاكاة الافتراضية')">المحاكاة الافتراضية</div>
  <div class="section-box" onclick="filterCategory('أدوات الألعاب')">أدوات الألعاب</div>
  <div class="section-box" onclick="filterCategory('أدوات المطورين')">أدوات المطورين</div>
  <div class="section-box" onclick="filterCategory('التواصل')">التواصل</div>
  <div class="section-box" onclick="filterCategory('التخصيص')">التخصيص</div>
  <div class="section-box" onclick="filterCategory('هندسة')">هندسة</div>
  <div class="section-box" onclick="filterCategory('المرافق')">المرافق</div>
  <div class="section-box" onclick="filterCategory('أنظمة التشغيل')">أنظمة التشغيل</div>
</div>

<!-- قسم التطبيقات -->
<div id="appsContainer" class="row mt-3"></div>

<!-- Footer -->
<footer class="footer mt-5 p-3 text-center">
  <p id="policyText" style="cursor:pointer;">سياسة الاستخدام</p>
  <p>© 2026 HEX Store – All rights reserved | <a href="#">إخلاء المسؤولية</a></p>
</footer>

<!-- لوحة المطور المخفية -->
<div id="adminPanel">
  <h4>لوحة المطور المخفية</h4>
  <p>إضافة/تعديل/حذف التطبيقات:</p>
  <input type="text" id="appName" placeholder="اسم التطبيق" class="form-control mb-2">
  <textarea id="appDesc" placeholder="وصف التطبيق" class="form-control mb-2"></textarea>
  <input type="text" id="appLink" placeholder="رابط التطبيق أو اسم الملف" class="form-control mb-2">
  <input type="text" id="appImage" placeholder="رابط صورة التطبيق (اختياري)" class="form-control mb-2">
  <input type="text" id="appVersion" placeholder="الإصدار" class="form-control mb-2">
  <select id="appPlatform" class="form-control mb-2">
    <option value="Android">Android</option>
    <option value="Windows">Windows</option>
  </select>
  <select id="appCategory" class="form-control mb-2">
    <option>الحماية</option><option>التصوير الفوتوغرافي</option>
    <option>الصوت والفيديو</option><option>إنتاجية</option>
    <option>المحاكاة الافتراضية</option><option>أدوات الألعاب</option>
    <option>أدوات المطورين</option><option>التواصل</option>
    <option>التخصيص</option><option>هندسة</option>
    <option>المرافق</option><option>أنظمة التشغيل</option>
  </select>
  <button class="btn btn-success mb-2" onclick="addApp()">رفع التطبيق</button>
  <hr>
  <h5>التطبيقات المضافة</h5>
  <div id="appList"></div>
</div>

<script>
let apps = [];
let clickCount = 0;

// عند الضغط 5 مرات على سياسة الاستخدام تظهر لوحة المطور
document.getElementById("policyText").addEventListener("click", () => {
  clickCount++;
  if(clickCount >= 5) {
    document.getElementById("adminPanel").style.display = "block";
    alert("تم فتح لوحة المطور!");
  }
});

// إضافة تطبيق
function addApp() {
  let name = document.getElementById("appName").value;
  let desc = document.getElementById("appDesc").value;
  let link = document.getElementById("appLink").value;
  let image = document.getElementById("appImage").value;
  let platform = document.getElementById("appPlatform").value;
  let category = document.getElementById("appCategory").value;
  let version = document.getElementById("appVersion").value;

  if(!name || !desc || !link) { alert("الرجاء تعبئة جميع الحقول الأساسية"); return; }

  let app = {name, desc, link, image, platform, category, version};
  apps.push(app);
  renderApps();
  renderAdminList();
}

// عرض التطبيقات على الصفحة
function renderApps(filter=null) {
  let container = document.getElementById("appsContainer");
  container.innerHTML = "";
  let displayApps = filter ? apps.filter(a => a.category===filter || a.platform===filter) : apps;

  displayApps.forEach((app, index) => {
    container.innerHTML += `
      <div class="col-md-3 mb-3">
        <div class="card">
          ${app.image ? `<img src="${app.image}" class="app-image">` : ""}
          <div class="card-body">
            <h5>${app.name}</h5>
            <p>${app.desc}</p>
            <p><strong>${app.platform}</strong> | ${app.category} | ${app.version}</p>
            <a href="${app.link}" class="btn download-btn" target="_blank">تنزيل</a>
          </div>
        </div>
      </div>
    `;
  });
}

// عرض قائمة التطبيقات في لوحة المطور مع زر حذف
function renderAdminList() {
  let container = document.getElementById("appList");
  container.innerHTML = "";
  apps.forEach((app,index) => {
    container.innerHTML += `
      <div class="border p-2 mb-2">
        <b>${app.name}</b> (${app.platform} | ${app.category} | ${app.version})
        <button class="btn btn-sm btn-danger float-end" onclick="deleteApp(${index})">حذف</button>
      </div>
    `;
  });
}

// حذف تطبيق
function deleteApp(index) {
  apps.splice(index,1);
  renderApps();
  renderAdminList();
}

// تصفية حسب الفئة
function filterCategory(category) {
  renderApps(category);
}

// بحث التطبيق
function searchApp() {
  let query = document.getElementById("searchInput").value.trim().toLowerCase();
  if(query === "hex app store") {
    window.location.href = window.location.origin;
  } else {
    alert("لم يتم العثور على التطبيق");
  }
}

// عرض كل التطبيقات افتراضياً
renderApps();
</script>

</body>
</html>
